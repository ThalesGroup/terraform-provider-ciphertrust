---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ciphertrust_oci_byok_key Resource - terraform-provider-ciphertrust"
subcategory: ""
description: |-
  Use this resource to create and manage OCI BYOK keys in CipherTrust Manager.
---

# ciphertrust_oci_byok_key (Resource)

Use this resource to create and manage OCI BYOK keys in CipherTrust Manager.

## Example Usage

```terraform
resource "ciphertrust_cm_key" "test_key" {
  name       = "test-key-name"
  algorithm  = "RSA"
  usage_mask = 60
  key_size   = 2048
}

resource "ciphertrust_oci_byok_key" "test_key" {
  # Required parameters
  name          = "key-name"
  source_key_id = ciphertrust_cm_key.test_key.id
  vault         = "vault-id"
  oci_key_params = {
    compartment_id  = "compartment-ocid"
    protection_mode = "SOFTWARE"
    # Optional oci_key_params
    defined_tags = [
      {
        tag = "oci-namespace"
        values = {
          key-tag = "key-value"
        }
      }
    ]
    freeform_tags = {
      key-tag = "key-value"
    }
  }
  # Optional parameters
  source_key_tier = "local"
  enable_auto_rotation = {
    job_config_id = "ciphertrust.scheduler.scheduled.rotation_job.id"
    key_source    = "ciphertrust"
  }
  enable_key                 = true
  schedule_for_deletion_days = 14
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) (Updatable) Name for the key.
- `oci_key_params` (Attributes) OCI key attributes. (see [below for nested schema](#nestedatt--oci_key_params))
- `source_key_id` (String) ID of the key that will be uploaded from a key source to OCI.
- `vault` (String) CipherTrust Manager OCI vault resource ID.

### Optional

- `enable_auto_rotation` (Attributes) (Updatable) Enable the key for a scheduled rotation job. (see [below for nested schema](#nestedatt--enable_auto_rotation))
- `enable_key` (Boolean) (Updatable) Enable or disable the key. Default is true.
- `schedule_for_deletion_days` (Number) (Updatable) Waiting period after the key is destroyed before the key is deleted. Only relevant when the resource is destroyed. Default is 7.
- `source_key_tier` (String) Key source from where the key will be uploaded. The default is 'local'. The only option is 'local'.

### Read-Only

- `account` (String) The account which owns this resource.
- `auto_rotate` (Boolean) Whether the key is enabled for auto-rotation.
- `cloud_name` (String) CipherTrust Manager cloud name.
- `compartment_name` (String) The compartment's name.
- `created_at` (String) Date/time the key was created in CipherTrust Manager.
- `id` (String) The key's CipherTrust Manager resource ID.
- `key_material_origin` (String) CipherTrust Manager origin of the key's material.
- `labels` (Map of String) A list of key:value pairs associated with the key.
- `refreshed_at` (String) Date/time the key was refreshed.
- `region` (String) The key's region.
- `tenancy` (String) The key's tenancy.
- `updated_at` (String) Date/time the application was updated.
- `uri` (String) CipherTrust Manager's unique identifier for the resource.
- `vault_id` (String) The vault's OCID.
- `version_summary` (Attributes List) Key version summary. (see [below for nested schema](#nestedatt--version_summary))

<a id="nestedatt--oci_key_params"></a>
### Nested Schema for `oci_key_params`

Required:

- `compartment_id` (String) (Updatable) The compartment's OCID.
- `protection_mode` (String) The protection mode of the key. Options are: HSM or SOFTWARE.

Optional:

- `defined_tags` (Attributes Set) (Updatable) Defined tags for the key. (see [below for nested schema](#nestedatt--oci_key_params--defined_tags))
- `freeform_tags` (Map of String) (Updatable) Freeform tags for the key. Freeform tags are key:value pairs.

Read-Only:

- `algorithm` (String) The algorithm used by the key's versions to encrypt or decrypt.
- `current_key_version` (String) The OCID of the key's current version.
- `curve_id` (String) The curve ID of the ECDSA key.
- `display_name` (String) The key's name.
- `is_primary` (Boolean) Whether the key belongs to a primary vault or a replica vault.
- `key_id` (String) The key's OCID.
- `length` (Number) The length of the key.
- `lifecycle_state` (String) The key's current lifecycle state.
- `replication_id` (String) The replication ID associated with a key operation.
- `restored_from_key_id` (String) The OCID of the key from which this key was restored.
- `time_created` (String) The time the key was created.
- `time_of_deletion` (String) The time when the key version will be deleted.
- `vault_name` (String) The vault's name.

<a id="nestedatt--oci_key_params--defined_tags"></a>
### Nested Schema for `oci_key_params.defined_tags`

Required:

- `tag` (String) The tag's namespace as defined in OCI.
- `values` (Map of String) The key:value pairs to associate with the tag as defined in OCI.



<a id="nestedatt--enable_auto_rotation"></a>
### Nested Schema for `enable_auto_rotation`

Required:

- `job_config_id` (String) (Updatable) CipherTrust Manager resource ID of a key rotation scheduler.
- `key_source` (String) (Updatable) Currently, the only option is 'ciphertrust'.


<a id="nestedatt--version_summary"></a>
### Nested Schema for `version_summary`

Read-Only:

- `cckm_version_id` (String) CipherTrust Manager resource ID of the version.
- `created_at` (String) Date/time the version was created in CipherTrust Manager.
- `source_key_id` (String) CipherTrust Manager key ID used to create the version.
- `source_key_name` (String) Name of the key used to create the version.
- `source_key_tier` (String) Source of the key used to create the version.
- `version_id` (String) The key version's OCID
