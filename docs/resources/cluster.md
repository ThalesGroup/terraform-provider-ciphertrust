---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ciphertrust_cluster Resource - terraform-provider-ciphertrust"
subcategory: ""
description: |-
  
---

# ciphertrust_cluster (Resource)



## Example Usage

```terraform
# Terraform Configuration for CipherTrust Provider

# This configuration demonstrates the creation of a Cluster of CipherTrust Manager nodes
# with the CipherTrust provider for primary and secondary nodes, including setting up cluster details.

terraform {
  # Define the required providers for the configuration
  required_providers {
    # CipherTrust provider for managing CipherTrust resources
    ciphertrust = {
      # The source of the provider
      source = "thalesgroup.com/oss/ciphertrust"
      # Version of the provider to use
      version = "1.0.0"
    }
  }
}

# Configure the CipherTrust provider for authentication
provider "ciphertrust" {
	# The address of the CipherTrust appliance (replace with the actual address)
  address = "https://10.10.10.10"

  # Username for authenticating with the CipherTrust appliance
  username = "admin"

  # Password for authenticating with the CipherTrust appliance
  password = "ChangeMe101!"

  bootstrap = "no"
}

# Add a resource of type CM Cluster with three nodes
# Node 10.10.10.11 is the original node in the cluster
# Nodes 10.10.10.12 and 10.10.10.13 are nodes looking to join the cluster
resource "ciphertrust_cluster" "cluster_info" {
  # List of CipherTrust Manager nodes to be added to cluster
  # Original = true would mean that this node is originally in cluster
  # or new cluster operation will happen on this node
	nodes = [
		{
			host = "https://10.10.10.11"
			port = 5432
			original = true
			public_address = "https://10.10.10.11"
			credentials = {
				username = "admin"
				password = "ChangeMe101!"
			}
		},
		{
			host = "https://10.10.10.12"
			port = 5432
			original = false
			public_address = "https://10.10.10.12"
			credentials = {
				username = "admin"
				password = "ChangeMe102!"
			}
		},
		{
			host = "https://10.10.10.13"
			port = 5432
			original = false
			public_address = "https://10.10.10.13"
			credentials = {
				username = "admin"
				password = "ChangeMe103!"
			}
		}
	]
}

# Output the unique ID of the created CM Cluster
output "cluster_id" {
    # The value will be the ID of the CM Cluster resource
    value = ciphertrust_cluster.cluster_info.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `nodes` (Attributes List) (see [below for nested schema](#nestedatt--nodes))

### Read-Only

- `id` (String) The ID of this resource.
- `node_count` (Number) Number of nodes in the cluster
- `node_id` (String) This CipherTrust manager node ID
- `status_code` (String) short code for cluster status: r == ready
- `status_description` (String) cluster status

<a id="nestedatt--nodes"></a>
### Nested Schema for `nodes`

Required:

- `host` (String) The hostname or IP of the node
- `port` (Number) The port of the node, typically 5432
- `public_address` (String) The fully qualified domain name (FQDN) or public IP of this node. This attribute is used by CipherTrust Manager connectors to learn how to access this particular node of the cluster remotely.

Optional:

- `credentials` (Attributes) Credentials for the node that want to join the cluster. This is optional and if not provided, provider's config node credentials shall be tried. (see [below for nested schema](#nestedatt--nodes--credentials))
- `original` (Boolean) This node is the same server as the provider is configured to use. It is used as the first node in the cluster. All other nodes will have the same state as this node.

<a id="nestedatt--nodes--credentials"></a>
### Nested Schema for `nodes.credentials`

Optional:

- `auth_domain` (String) CipherTrust authentication domain of the user. This is the domain where the user was created.
- `domain` (String) CipherTrust domain to log in to. Default is the empty string (root domain).
- `no_ssl_verify` (Boolean) Set to false to verify the server's certificate chain and host name.
- `password` (String) Password for the node
- `username` (String) Username for the node
