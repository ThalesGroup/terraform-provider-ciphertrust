---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ciphertrust_oci_byok_key_version Resource - terraform-provider-ciphertrust"
subcategory: ""
description: |-
  Use this resource to create and manage OCI BYOK key versions in CipherTrust Manager.
---

# ciphertrust_oci_byok_key_version (Resource)

Use this resource to create and manage OCI BYOK key versions in CipherTrust Manager.

## Example Usage

```terraform
resource "ciphertrust_cm_key" "cm_key_version" {
  name       = "test-key-name"
  algorithm  = "AES"
  usage_mask = 60
}

# Add a BYOK key version to a native OCI key
resource "ciphertrust_oci_byok_key_version" "byok_version_0" {
  # Required parameters
  cckm_key_id                = ciphertrust_oci_key.test_key.id
  source_key_id              = ciphertrust_cm_key.cm_key_version.id
  # Optional parameters
  schedule_for_deletion_days = 14
  source_key_tier            = "local"
}

# Add a BYOK key version to a BYOK OCI key
resource "ciphertrust_oci_byok_key_version" "byok_version_0" {
  cckm_key_id     = ciphertrust_oci_byok_key.test_key.id
  source_key_id   = ciphertrust_cm_key.cm_key_version.id
  source_key_tier = "local"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cckm_key_id` (String) CipherTrust Manager Key ID.
- `source_key_id` (String) ID of the key that will be uploaded from a key source to OCI.

### Optional

- `schedule_for_deletion_days` (Number) (Updatable) Waiting period after the key is destroyed before the key is deleted. Only relevant when the resource is destroyed. Default is 7.
- `source_key_tier` (String) Key source from where the key will be uploaded. The default is 'local'. The only option is 'local'.

### Read-Only

- `account` (String) The account which owns this resource.
- `cloud_name` (String) CipherTrust Manager cloud name.
- `created_at` (String) Date/time the application was created
- `id` (String) The key's CipherTrust Manager resource ID.
- `key_material_origin` (String) CipherTrust Manager origin of the key version's material.
- `oci_key_version_params` (Attributes) OCI key attributes. (see [below for nested schema](#nestedatt--oci_key_version_params))
- `refreshed_at` (String) Date/time the key was refreshed.
- `source_key_name` (String) Name of the key that will be uploaded from the key source to OCI.
- `updated_at` (String) Date/time the application was updated.
- `uri` (String) CipherTrust Manager's unique identifier for the resource.

<a id="nestedatt--oci_key_version_params"></a>
### Nested Schema for `oci_key_version_params`

Read-Only:

- `compartment_id` (String) The compartment's OCID.
- `is_primary` (Boolean) Whether the key belongs to a primary vault or a replica vault.
- `key_id` (String) The key's OCID.
- `lifecycle_state` (String) The key version's current lifecycle state.
- `origin` (String) Origin of the version;s key material.
- `public_key` (String) Version's public key.
- `replication_id` (String) The replication ID associated with a key version operation.
- `restored_from_key_version_id` (String) Key version OCID from which this key version was restored.
- `time_created` (String) The time the key version was created.
- `time_of_deletion` (String) The time when the key version will be deleted.
- `vault_id` (String) OCI Vault OCID.
- `version_id` (String) OCI version ID
