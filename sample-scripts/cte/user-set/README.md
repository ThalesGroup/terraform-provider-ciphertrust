---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ciphertrust_scp_connection Resource - terraform-provider-ciphertrust"
subcategory: ""
description: |-
  
---

# ciphertrust_scp_connection (Resource)

The SCP resource in this Terraform provider enables configuring Secure Copy Protocol (SCP) connections for secure file transfers, such as backups, to external servers. Supported authentication methods are key and password. For key, download the public key via the scp/publickey API and add it to the destination host's authorized keys. For password, provide the destination host's password. Additionally, specify the host's public key for verification, typically located in /etc/ssh/ on the destination machine.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `auth_method` (String) Authentication type for SCP/SFTP server. Accepted values are 'key' or 'password'
- `host` (String) Hostname or FQDN of SCP/SFTP remote machine.
- `name` (String) Unique connection name.
- `path_to` (String) A path where the file to be copied via SCP/SFTP. Example '/home/ubuntu/datafolder/'
- `public_key` (String) Public key of destination host machine. It will be used to verify the host's identity by verifying key fingerprint. You can find it in /etc/ssh/ at host machine.
- `username` (String) Username for accessing SCP/SFTP server.

### Optional

- `description` (String) Description about the connection.
- `labels` (Map of String) Labels are key/value pairs used to group resources. They are based on Kubernetes Labels, see https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/.

To add a label, set the label's value as follows.

**_Note that the key value pairs should not have blank spaces_**

    labels = {
    "environment" = "devenv"
    }

To remove a key/value pair, pass value null to the particular key

    labels = {
    "environment" = null
    }
- `meta` (Map of String) Optional end-user or service data stored with the connection.

To add meta, set the meta's value as follows.

    meta = {
    "custom_meta_key1" = "custom_value1"
    "customer_meta_key2" = "custom_value2"
    }

- `password` (String) Password for SCP/SFTP server.
- `port` (Number) Port where SCP/SFTP service runs on host (usually 22).
- `products` (List of String) Array of the CipherTrust products associated with the connection. Valid values are:

    "cckm" for:
        AWS
        Azure
        GCP
        Luna connections
        DSM
        Salesforce
        SAP Data Custodian
    "ddc" for:
        GCP
        Hadoop connections
    "cte" for:
        Hadoop connections
        SMB
        OIDC
        LDAP connections
    "data discovery" for Hadoop connections.
    "backup/restore" for SCP/SFTP connections.
    "logger" for:
        loki connections
        elasticsearch connections
        syslog connections
    "hsm_anchored_domain" for:
        Luna connections
- `protocol` (String) Use 'sftp' or 'scp'. 'sftp' is the default value

### Read-Only

- `id` (String) The ID of this resource.


## Run the Example

```bash
terraform init
terraform apply
```

## Destroy Resources

Resources must be destroyed before another sample script using the same cloud is run.

```bash
terraform destroy
```
Run this step even if the apply step fails.
